language: php

php:
- "5.4"
- "5.3"

before_script:
- git clone https://github.com/yiisoft/yii.git
- pear channel-discover pear.phpunit.de
- pear install phpunit/PHP_Invoker
- pear install phpunit/PHPUnit_Selenium
- pear install phpunit/DbUnit
- mysql -e "CREATE DATABASE berkuliah_test;"
- mysql -u root berkuliah_test < protected/data/berkuliah.sql
- cd protected/tests/

script: phpunit --configuration travis-phpunit.xml --coverage-text unit/